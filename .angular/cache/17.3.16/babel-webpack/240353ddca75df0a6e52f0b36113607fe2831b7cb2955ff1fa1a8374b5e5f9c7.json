{"ast":null,"code":"import * as d3 from 'd3';\nimport * as i0 from \"@angular/core\";\nexport let TreeVisualizationService = /*#__PURE__*/(() => {\n  class TreeVisualizationService {\n    svgWidth = 928;\n    svgHeight = 500;\n    nodeWidth = 75;\n    nodeHeight = 40;\n    defaultData = {\n      name: 'Eve',\n      children: [{\n        name: 'Cain'\n      }, {\n        name: 'Seth',\n        children: [{\n          name: 'Enos'\n        }, {\n          name: 'Noam'\n        }]\n      }, {\n        name: 'Abel'\n      }, {\n        name: 'Awan',\n        children: [{\n          name: 'Enoch'\n        }]\n      }, {\n        name: 'Azura'\n      }]\n    };\n    constructor() {}\n    getInitNode(data) {\n      if (!data) {\n        data = this.defaultData;\n      }\n      const root = d3.hierarchy(data);\n      const tree = d3.tree().nodeSize([this.nodeWidth, this.svgHeight / root.height + 1]);\n      tree(root);\n      const svg = d3.select('.tree-visualization').append('svg').attr(\"width\", this.svgWidth).attr(\"height\", this.svgHeight).attr(\"viewBox\", [-dy / 3, x0 - dx, this.svgWidth, this.svgHeight]).attr(\"style\", \"max-width: 100%; height: auto; font: 10px sans-serif;\");\n      ;\n      const nodes = svg.append('g').classed('node');\n      const links = svg.append('g').classed('link');\n    }\n    static ɵfac = function TreeVisualizationService_Factory(t) {\n      return new (t || TreeVisualizationService)();\n    };\n    static ɵprov = (() => /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: TreeVisualizationService,\n      factory: TreeVisualizationService.ɵfac\n    }))();\n  }\n  return TreeVisualizationService;\n})();","map":{"version":3,"names":["d3","TreeVisualizationService","svgWidth","svgHeight","nodeWidth","nodeHeight","defaultData","name","children","constructor","getInitNode","data","root","hierarchy","tree","nodeSize","height","svg","select","append","attr","dy","x0","dx","nodes","classed","links","factory","ɵfac"],"sources":["/Users/reynolds/cursor/d3js_example2/angular8-app/src/app/services/tree-visualization-service.ts"],"sourcesContent":["import {ElementRef, Injectable} from '@angular/core';\nimport * as d3 from 'd3';\nimport {TreeNode, TreeState} from '../interfaces/interfaces';\nimport {Selection} from 'd3-selection';\nimport {HierarchyNode} from 'd3-hierarchy';\n\n@Injectable()\nexport class TreeVisualizationService {\n\n  public svgWidth = 928;\n  public svgHeight = 500;\n  public nodeWidth = 75;\n  public nodeHeight = 40;\n\n  defaultData: TreeNode = {\n    name: 'Eve',\n    children: [\n      {name: 'Cain'},\n      {name: 'Seth', children: [{name: 'Enos'}, {name: 'Noam'}]},\n      {name: 'Abel'},\n      {name: 'Awan', children: [{name: 'Enoch'}]},\n      {name: 'Azura'}\n    ]\n  };\n\n  constructor() {\n  }\n\n  getInitNode(data: TreeNode) {\n    if(!data){\n      data = this.defaultData;\n    }\n    const root = d3.hierarchy(data) as HierarchyNode<unknown>;\n    const tree = d3.tree().nodeSize([this.nodeWidth, this.svgHeight/root.height + 1]);\n    tree(root);\n\n    const svg = d3.select('.tree-visualization')\n      .append('svg')\n      .attr(\"width\", this.svgWidth)\n      .attr(\"height\", this.svgHeight)\n      .attr(\"viewBox\", [-dy / 3, x0 - dx, this.svgWidth, this.svgHeight])\n      .attr(\"style\", \"max-width: 100%; height: auto; font: 10px sans-serif;\");;\n\n    const nodes = svg.append('g')\n      .classed('node');\n\n    const links = svg.append('g')\n      .classed('link');\n\n\n  }\n\n}\n"],"mappings":"AACA,OAAO,KAAKA,EAAE,MAAM,IAAI;;AAMxB,WAAaC,wBAAwB;EAA/B,MAAOA,wBAAwB;IAE5BC,QAAQ,GAAG,GAAG;IACdC,SAAS,GAAG,GAAG;IACfC,SAAS,GAAG,EAAE;IACdC,UAAU,GAAG,EAAE;IAEtBC,WAAW,GAAa;MACtBC,IAAI,EAAE,KAAK;MACXC,QAAQ,EAAE,CACR;QAACD,IAAI,EAAE;MAAM,CAAC,EACd;QAACA,IAAI,EAAE,MAAM;QAAEC,QAAQ,EAAE,CAAC;UAACD,IAAI,EAAE;QAAM,CAAC,EAAE;UAACA,IAAI,EAAE;QAAM,CAAC;MAAC,CAAC,EAC1D;QAACA,IAAI,EAAE;MAAM,CAAC,EACd;QAACA,IAAI,EAAE,MAAM;QAAEC,QAAQ,EAAE,CAAC;UAACD,IAAI,EAAE;QAAO,CAAC;MAAC,CAAC,EAC3C;QAACA,IAAI,EAAE;MAAO,CAAC;KAElB;IAEDE,YAAA,GACA;IAEAC,WAAWA,CAACC,IAAc;MACxB,IAAG,CAACA,IAAI,EAAC;QACPA,IAAI,GAAG,IAAI,CAACL,WAAW;MACzB;MACA,MAAMM,IAAI,GAAGZ,EAAE,CAACa,SAAS,CAACF,IAAI,CAA2B;MACzD,MAAMG,IAAI,GAAGd,EAAE,CAACc,IAAI,EAAE,CAACC,QAAQ,CAAC,CAAC,IAAI,CAACX,SAAS,EAAE,IAAI,CAACD,SAAS,GAACS,IAAI,CAACI,MAAM,GAAG,CAAC,CAAC,CAAC;MACjFF,IAAI,CAACF,IAAI,CAAC;MAEV,MAAMK,GAAG,GAAGjB,EAAE,CAACkB,MAAM,CAAC,qBAAqB,CAAC,CACzCC,MAAM,CAAC,KAAK,CAAC,CACbC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAClB,QAAQ,CAAC,CAC5BkB,IAAI,CAAC,QAAQ,EAAE,IAAI,CAACjB,SAAS,CAAC,CAC9BiB,IAAI,CAAC,SAAS,EAAE,CAAC,CAACC,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGC,EAAE,EAAE,IAAI,CAACrB,QAAQ,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC,CAClEiB,IAAI,CAAC,OAAO,EAAE,uDAAuD,CAAC;MAAC;MAE1E,MAAMI,KAAK,GAAGP,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAC1BM,OAAO,CAAC,MAAM,CAAC;MAElB,MAAMC,KAAK,GAAGT,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAC1BM,OAAO,CAAC,MAAM,CAAC;IAGpB;;uBA3CWxB,wBAAwB;IAAA;;aAAxBA,wBAAwB;MAAA0B,OAAA,EAAxB1B,wBAAwB,CAAA2B;IAAA;;SAAxB3B,wBAAwB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}